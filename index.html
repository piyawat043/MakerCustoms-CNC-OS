<!DOCTYPE html>
<html lang="th">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="UTF-8">
  <title>CNC UI main</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
/* --- Intro Screen Styles (Added) --- */
#intro-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: #10141a;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 100000;
  color: white;
  font-family: 'Segoe UI', 'Noto Sans Thai', sans-serif;
  text-align: center;
}
#intro-screen h1 {
  font-size: 48px;
  font-weight: bold;
  text-shadow: 0 0 14px rgba(0, 123, 255, 0.7);
  margin-bottom: 10px;
}
#intro-screen p {
  font-size: 18px;
  opacity: 0.85;
  margin-bottom: 40px;
}
.choice-button-container {
  display: flex;
  gap: 20px;
}
.choice-button {
  padding: 15px 30px;
  font-size: 20px;
  color: white;
  background: linear-gradient(135deg, #232526, #414345);
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
}
.choice-button:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 123, 255, 0.3);
}

/* --- Original PC Styles --- */
html, body {
  margin: 0; padding: 0;
  width: 100vw; height: 100vh;
  overflow: hidden;
}

#fixedContainer {
  /* Initially hidden */
  display: none; 
  width: 1280px;
  height: 1080px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  background: transparent;
  box-shadow: 0 0 60px #000b;
  overflow: hidden;
}

    #bgVideo {
      position: fixed;
      top: 0;
      left: 0;
  width: 1280px; /* ‡∏Ç‡∏ô‡∏≤‡∏î‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå‡πÄ‡∏î‡∏¥‡∏° */
  height: 1080px;
      z-index: -99;
      object-fit: cover;
      opacity: 1;
    }


#mainContainer {
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.main {
  position: absolute;
  width: 337.5px;
  height: auto;
  top: 228px;
  left: 110px;
}

.top-left {
  position: absolute;
  width: 200px;
  height: auto;
  top: 30px;
  left: 581px;
}

.top-right {
  position: absolute;
  width: 253px;
  height: auto;
  top: 336px;
  left: 897px;
}

.bottom-right {
  position: absolute;
  width: auto;
  height: 250px;
  top: 749px;
  left: 527px;
}

	
	    .label {
      position: absolute;
      bottom: 8px;
      left: 0;
      width: 100%;
      color: white;
      text-shadow: 0 0 5px black;
      font-size: 20px;
      line-height: 1.3;
      padding: 4px;
      background: rgba(0,0,0,0.5);
      border-radius: 0 0 14px 14px;
      pointer-events: none;
      z-index: 2;
    }
	
.videoBox {
  position: absolute;
  overflow: hidden;
  border-radius: 25px;
  box-shadow: 0 0 20px rgba(0,0,0,0.38);
  cursor: pointer;
  text-align: center;
  background: rgba(0,0,0,0.08);
  border: 2px solid transparent;
  transition: 
    border 0.5s cubic-bezier(.55,0,.1,1),
    box-shadow 0.4s cubic-bezier(.55,0,.1,1),
    transform 0.7s cubic-bezier(.68,-0.55,.27,1.55);
}

.videoBox:hover {
  transform: scale(1.08) rotate(-1.5deg);
  z-index: 10;
  border-radius: 25px;
  border: 2px solid #1fa8ff;
  box-shadow: 0 0 36px 4px #1fa8ff33, 0 0 20px rgba(0,0,0,0.38);
}

    .videoBox .preview {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
    .videoBox video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
    }
    .videoBox .hover-preview {
      display: none;
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      z-index: 2;
      box-shadow: 0 4px 32px #000d;
      background: #222b;
      border: 2px solid #0072f5;
    }
    .videoBox.show-hover-preview .hover-preview {
      display: block;
    }
    .videoBox .hover-preview video {
      display: block;
      width: 100%;
      height: 100%;
    }


	

    #overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: none;
      z-index: 999;
      justify-content: center;
      align-items: center;
    }
    #overlayContent {
      position: relative;
      background: none;
      border-radius: 12px;
      padding: 0;
      box-shadow: 0 0 32px #000a;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #instructionVideo {
      width: 82vw;
      max-width: 720px;
      border: 4px solid white;
      border-radius: 14px;
      margin-bottom: 8px;
      box-shadow: 0 0 32px #000a;
    }
    #closeOverlay {
      position: absolute;
      top: -35px;
      right: 0;
      font-size: 32px;
      color: #fff;
      cursor: pointer;
      background: none;
      border: none;
      z-index: 1001;
    }
	
	.overlay-text.bottom-left {
  position: absolute;
  left: 40px;
  bottom: 90px;
  color: #ffffff;
  text-align: left;
  font-family: 'Segoe UI', 'Noto Sans Thai', sans-serif;
  font-size: 16px;
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.5);
  z-index: 200;
  max-width: 500px;
  line-height: 1.5;
}

.overlay-text.bottom-left span {
  font-size: 17px;
  opacity: 0.85;
  display: block;
  margin-top: 2px;
}

.page-title {
  position: absolute;
  top: 30px;
  left: 76%;
  transform: translateX(-50%);
  text-align: center;
  font-size: 38px;
  color: #ffffff;
  font-weight: bold;
  text-shadow: 0 0 14px rgba(0, 123, 255, 0.7);
  z-index: 999;
  font-family: 'Segoe UI', 'Noto Sans Thai', sans-serif;
  line-height: 1.2;
}
.page-title span {
  display: block;
  font-size: 16px;
  margin-top: 2px;
  opacity: 0.85;
  letter-spacing: 0.3px;
}

.fadein {
  opacity: 0;
  transition: opacity 1s cubic-bezier(.55,0,.1,1);
}
.fadein.show {
  opacity: 1;
}


.videoBox .tooltip {
  position: absolute;
  left: 33%;
  bottom: 22px;
  transform: translateX(-50%);
  background: rgba(10,10,10,0.97);
  color: #fff;
  border-radius: 10px;
  padding: 2px 3px;
  font-size: 20px;
  line-height: 1.33;
  text-align: center;
  white-space: pre-line;
  box-shadow: 0 4px 14px #000b;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.23s cubic-bezier(.55,0,.1,1);
  z-index: 12;
  font-family: inherit;
}

.videoBox.show-tooltip .tooltip {
  opacity: 1;
  pointer-events: auto;
}

.step-tooltip {
  position: absolute;
  background: rgba(30,30,30,0.97);
  color: #fff;
  padding: 10px 20px;
  border-radius: 10px;
  font-size: 26px;
  box-shadow: 0 4px 16px #000b;
  white-space: pre-line;
  z-index: 10001;
  pointer-events: none;
  opacity: 0.6;
  transition: opacity .2s;
  max-width: 500px;
}
.step-tooltip.active {
  opacity: 1;
}
  </style>
</head>
<body>

<div id="intro-screen">
  <h1>Welcome to iMak</h1>
  <p>Please select your version</p>
  <div class="choice-button-container">
    <button id="pc-button" class="choice-button">iMak PC</button>
    <button id="phone-button" class="choice-button">iMak Phone</button>
  </div>
</div>

<div id="fixedContainer">
  <video id="bgVideo" class="fadein" autoplay muted loop playsinline>
    <source src="imakbg.mp4" type="video/mp4">
  </video>
  
  <div class="page-title fadein">
    iMak
    <span>‚ÄúThe Creative Human‚Äôs Assistant‚Äù<br>"‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå"</span>
  </div>

  <div id="mainContainer">
    <div class="videoBox top-left fadein" tabindex="0" id="toolsetterBox">
      <img src="atzv3.png" class="preview" alt="One-click Tool Measuring">
      <video src="toolsetter2.mp4" muted loop playsinline></video>
      <div class="label">‡∏ß‡∏±‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß<br>One-click Tool Measuring</div>
      <div class="tooltip">üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î Ctrl ‡∏Ñ‡πâ‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô</div>
      <div class="hover-preview"><video src="toolsetter2.mp4" muted loop playsinline></video></div>
    </div>
    
    <div class="videoBox main fadein" tabindex="0" onclick="location.href='page_3dprobe.html'">
      <img src="probezerov3.png" class="preview" alt="Semi-Auto Probe Interface">
      <video src="newxyztoolv2.mp4" muted loop playsinline></video>
      <div class="label">‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏±‡∏ß‡∏ß‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥<br>Semi-Auto Probe Interface</div>
      <div class="hover-preview"><video src="newxyztoolv2.mp4" muted loop playsinline></video></div>
    </div>
    
    <div class="videoBox top-right fadein" tabindex="0" onclick="location.href='page_setup.html'">
      <img src="setupcncv2.png" class="preview" alt="Semi-Auto Calibration">
      <video src="zsetvideo.mp4" muted loop playsinline></video>
      <div class="label">‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏∂‡πà‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥<br>Semi-Auto Calibration</div>
      <div class="hover-preview"><video src="zsetvideo.mp4" muted loop playsinline></video></div>
    </div>
    
    <div class="videoBox bottom-right fadein" tabindex="0" onclick="location.href='page_surface.html'">
      <img src="sssv22.png" class="preview" alt="One-click Curved Engraving">
      <video src="ssssvideo.mp4" muted loop playsinline></video>
      <div class="label">‡πÅ‡∏Å‡∏∞‡∏™‡∏•‡∏±‡∏Å‡∏ú‡∏¥‡∏ß‡πÇ‡∏Ñ‡πâ‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß<br>One-click Curved Engraving</div>
      <div class="hover-preview"><video src="ssssvideo.mp4" muted loop playsinline></video></div>
    </div>
  </div>

  <div id="overlay">
    <div id="overlayContent">
      <button id="closeOverlay" onclick="closeOverlay()">√ó</button>
      <video id="instructionVideo" src="mainvdo.mp4" controls></video>
    </div>
  </div>
  
  <div class="overlay-text bottom-left">
    <p>
      ‡πÄ‡∏£‡∏≤‡∏¢‡∏∑‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡πÑ‡∏´‡∏•‡πà‡∏Ç‡∏≠‡∏á‡∏¢‡∏±‡∏Å‡∏©‡πå<br>
      <span>We are standing on the shoulders of giants.<br>‚Äî ‡πÄ‡∏ã‡∏≠‡∏£‡πå ‡πÑ‡∏≠‡πÅ‡∏ã‡∏Å ‡∏ô‡∏¥‡∏ß‡∏ï‡∏±‡∏ô (Sir Isaac Newton)</span>
    </p>
  </div>

  <button id="giantBtn" onclick="ahk.piyawatzone(event)" style="position: fixed; bottom: 40px; right: 24px; padding: 14px 20px; font-size: 18px; background: linear-gradient(135deg, #232526, #414345); color: white; font-weight: bold; border: none; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.25); cursor: pointer; z-index: 9999; width: max-content; max-width: 90vw; text-align: left; line-height: 1.5;">
    üß† ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏ö‡∏ô‡πÑ‡∏´‡∏•‡πà‡∏Ç‡∏≠‡∏á‡∏ú‡∏°<br>
    <span style="font-size: 13px; font-weight: normal; opacity: 0.85;">
      Click here to stand on the shoulders of Piyawat
    </span>
  </button>
</div>

</body>
<script>
// --- Intro Screen Script (Added) ---
document.addEventListener('DOMContentLoaded', function() {
  const introScreen = document.getElementById('intro-screen');
  const pcContainer = document.getElementById('fixedContainer');
  const pcButton = document.getElementById('pc-button');
  const phoneButton = document.getElementById('phone-button');

  // PC Button: Hide intro and show PC content
  pcButton.addEventListener('click', function() {
    introScreen.style.display = 'none';
    pcContainer.style.display = 'block'; // Or 'absolute' if you face issues
    // Manually trigger the resize/scale function to ensure correct scaling
    if (typeof updateScale === 'function') {
      updateScale();
    }
  });

  // Phone Button: Redirect to mobile page
  phoneButton.addEventListener('click', function() {
    window.location.href = 'mobile_index.html';
  });
});


// --- Original PC Scripts ---
document.addEventListener('DOMContentLoaded', function() {
  var toolsetterBox = document.getElementById('toolsetterBox');
  toolsetterBox.addEventListener('click', function(event) {
    if (event.ctrlKey) {
      ahk.autotoolzero(event);
    } else {
      console.log("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î Ctrl+Click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô");
      event.preventDefault();
    }
  });

  function safeVideoPlay(vid) {
    try {
      if (vid && vid.src && vid.readyState > 0) {
        vid.currentTime = 0;
        vid.play();
        vid.style.visibility = 'visible';
      }
    } catch (e) {}
  }
  function safeVideoPause(vid) {
    try {
      if (vid && vid.readyState > 0) {
        vid.pause();
        vid.currentTime = 0;
        vid.style.visibility = 'hidden';
      }
    } catch (e) {}
  }

  var boxes = document.querySelectorAll('.videoBox');
  for (var i = 0; i < boxes.length; i++) {
    (function(box) {
      var hoverVid = box.querySelector('.hover-preview video');
      box.addEventListener('mouseenter', function(e) {
        this.classList.add('show-hover-preview');
        hoverVid = this.querySelector('.hover-preview video');
        safeVideoPlay(hoverVid);
      });
      box.addEventListener('mouseleave', function(e) {
        this.classList.remove('show-hover-preview');
        hoverVid = this.querySelector('.hover-preview video');
        safeVideoPause(hoverVid);
      });
      var lastTap = 0;
      box.addEventListener('touchstart', function(e) {
        var now = new Date().getTime();
        if (now - lastTap < 400) {
          this.click();
          e.preventDefault();
        } else {
          this.classList.add('show-hover-preview');
          hoverVid = this.querySelector('.hover-preview video');
          safeVideoPlay(hoverVid);
        }
        lastTap = now;
      });
      box.addEventListener('touchend', function() {
        var that = this;
        setTimeout(function() {
          that.classList.remove('show-hover-preview');
          hoverVid = that.querySelector('.hover-preview video');
          safeVideoPause(hoverVid);
        }, 500);
      });
    })(boxes[i]);
  }

  window.closeOverlay = function() {
    var overlay = document.getElementById('overlay');
    var video = document.getElementById('instructionVideo');
    if (video) video.pause();
    if (overlay) overlay.style.display = 'none';
  };
});

window.onload = function() {
  var bg = document.getElementById('bgVideo');
  setTimeout(function() { bg.classList.add('show'); }, 200);

  var title = document.querySelector('.page-title');
  setTimeout(function() { title.classList.add('show'); }, 1200);

  var boxes = document.querySelectorAll('.videoBox.fadein');
  for (var i = 0; i < boxes.length; i++) {
    (function(box, idx) {
      setTimeout(function() {
        box.classList.add('show');
      }, 1200 + idx * 350);
    })(boxes[i], i);
  }
};


function updateScale() {
  const baseW = 1280, baseH = 1080;
  const scale = Math.min(window.innerWidth/baseW, window.innerHeight/baseH);
  document.documentElement.style.setProperty('--ui-scale', scale);
}
window.addEventListener('resize', updateScale);
window.addEventListener('orientationchange', updateScale);
updateScale();


const elementSelectors = [
  "#toolsetterBox",
  ".videoBox.main",
  ".videoBox.top-right",
  ".videoBox.bottom-right",
  "#giantBtn"
];
const tooltipTexts = [
  "‡∏ß‡∏±‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÅ‡∏Ñ‡πà‡∏Å‡∏î Ctrl ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏•‡∏¥‡∏Å\n(Auto-measure. Ctrl + click.)",
  "‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô... ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß\n(Every beginning‚Äîone button.)",
  "‡πÅ‡∏°‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö\n(Precision begins with calibration.)",
  "‡∏ú‡∏¥‡∏ß‡πÇ‡∏Ñ‡πâ‡∏á? ‡πÅ‡∏Ñ‡πà‡∏ó‡∏≤‡∏á‡∏ú‡πà‡∏≤‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ\n(Curves‚Äîjust another path.)",
  "‚Äú‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡πÄ‡∏£‡πá‡∏ß‚Ä¶ ‡∏¢‡∏∑‡∏ô‡∏ö‡∏ô‡πÑ‡∏´‡∏•‡πà‡∏ú‡∏° ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏•‡∏¥‡∏Å‚Äù\n(Want to leap? Stand on my shoulders‚Äîclick.)"
];
let tooltipDiv = null;
let stepIndex = 0;

function showStepTooltip(target, text) {
  if (!tooltipDiv) {
    tooltipDiv = document.createElement('div');
    tooltipDiv.className = "step-tooltip";
    document.body.appendChild(tooltipDiv);
  }
  var lines = text.split('\n');
  var line1 = lines[0] || "";
  var line2 = lines[1] || "";
  var line3 = lines[2] || "";
  var line4 = lines[3] || "";
  if (lines.length >= 4) {
    tooltipDiv.innerText = line1 + " " + line2 + "\n" + line3 + " " + line4;
  } else {
    tooltipDiv.innerText = text;
  }
  tooltipDiv.classList.add("active");
  setTimeout(function() {
    var rect = target.getBoundingClientRect();
    var ttWidth = tooltipDiv.offsetWidth;
    var ttHeight = tooltipDiv.offsetHeight;
    var left = rect.left + rect.width/2 - ttWidth/2;
    var top  = rect.top  + rect.height/2 - ttHeight/2;
    tooltipDiv.style.left = left + "px";
    tooltipDiv.style.top  = top  + "px";
  }, 10);
}

function hideStepTooltip() {
  if (tooltipDiv) tooltipDiv.classList.remove("active");
}

function showNextStep() {
  hideStepTooltip();
  var selector = elementSelectors[stepIndex % elementSelectors.length];
  var text = tooltipTexts[stepIndex % tooltipTexts.length];
  var target = document.querySelector(selector);
  if (target) {
    showStepTooltip(target, text);
    setTimeout(function() {
      stepIndex++;
      showNextStep();
    }, 5000);
  }
}
document.addEventListener("DOMContentLoaded", showNextStep);

</script>
</body>
</html>
```
