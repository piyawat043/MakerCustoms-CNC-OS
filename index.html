<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>CNC UI main</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
html, body {
  margin: 0; padding: 0;
  width: 100vw; height: 100vh;
  overflow: hidden;
  background: #10141a;
}

#fixedContainer {
  width: 1280px;
  height: 1080px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) scale(1); /* scale set by JS */
  background: transparent;
  box-shadow: 0 0 60px #000b;
  overflow: hidden;
  will-change: transform;
  /* Optional: for pixel sharpness on canvas-style UI */
  image-rendering: pixelated;
}

/* bgVideo stays at size 1280x1080 and gets scaled with container */
#bgVideo {
  position: absolute;
  top: 0; left: 0;
  width: 1280px; height: 1080px;
  z-index: -99;
  object-fit: cover;
  opacity: 1;
}

/* ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÇ‡∏Ñ‡πâ‡∏î layout ‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤! */
#mainContainer { position: relative; width: 100%; }

.main {
  position: absolute;
  width: 337.5px;
  height: auto;
  top: 228px;
  left: 110px;
}

.top-left {
  position: absolute;
  width: 200px;
  height: auto;
  top: 30px;
  left: 581px;
}

.top-right {
  position: absolute;
  width: 253px;
  height: auto;
  top: 336px;
  left: 897px;
}

.bottom-right {
  position: absolute;
  width: auto;
  height: 250px;
  top: 749px;
  left: 527px;
}

/* etc... (code styling ‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏Å‡πâ‡∏≠‡∏ô) */
.label { /* ... */ }
/* ...rest of CSS as is... */
  </style>
</head>
<body>
<div id="fixedContainer">
  <!-- ‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
  <video id="bgVideo" class="fadein" autoplay muted loop playsinline>
    <source src="imakbg.mp4" type="video/mp4">
  </video>
  <div class="page-title fadein">
    iMak
    <span>‚ÄúThe Creative Human‚Äôs Assistant‚Äù<br>
    "‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå"</span>
  </div>
  <div id="mainContainer">
    <div class="videoBox top-left fadein" tabindex="0" id="toolsetterBox">
      <img src="atzv3.png" class="preview" alt="One-click Tool Measuring">
      <video src="toolsetter2.mp4" muted loop playsinline></video>
      <div class="label">‡∏ß‡∏±‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß<br>One-click Tool Measuring</div>
      <div class="tooltip">üîí ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î Ctrl ‡∏Ñ‡πâ‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô</div>
      <div class="hover-preview"><video src="toolsetter2.mp4" muted loop playsinline></video></div>
    </div>
    <div class="videoBox main fadein" tabindex="0" onclick="location.href='page_3dprobe.html'">
      <img src="probezerov3.png" class="preview" alt="Semi-Auto Probe Interface">
      <video src="newxyztoolv2.mp4" muted loop playsinline></video>
      <div class="label">‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏±‡∏ß‡∏ß‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥<br>Semi-Auto Probe Interface</div>
      <div class="hover-preview"><video src="newxyztoolv2.mp4" muted loop playsinline></video></div>
    </div>
    <div class="videoBox top-right fadein" tabindex="0" onclick="location.href='page_setup.html'">
      <img src="setupcncv2.png" class="preview" alt="Semi-Auto Calibration">
      <video src="zsetvideo.mp4" muted loop playsinline></video>
      <div class="label">‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏∂‡πà‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥<br>Semi-Auto Calibration</div>
      <div class="hover-preview"><video src="zsetvideo.mp4" muted loop playsinline></video></div>
    </div>
    <div class="videoBox bottom-right fadein" tabindex="0" onclick="location.href='page_surface.html'">
      <img src="sssv22.png" class="preview" alt="One-click Curved Engraving">
      <video src="ssssvideo.mp4" muted loop playsinline></video>
      <div class="label">‡πÅ‡∏Å‡∏∞‡∏™‡∏•‡∏±‡∏Å‡∏ú‡∏¥‡∏ß‡πÇ‡∏Ñ‡πâ‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß<br>One-click Curved Engraving</div>
      <div class="hover-preview"><video src="ssssvideo.mp4" muted loop playsinline></video></div>
    </div>
  </div>
  <div id="overlay">
    <div id="overlayContent">
      <button id="closeOverlay" onclick="closeOverlay()">√ó</button>
      <video id="instructionVideo" src="mainvdo.mp4" controls></video>
    </div>
  </div>
  <div class="overlay-text bottom-left">
    <p>
      ‡πÄ‡∏£‡∏≤‡∏¢‡∏∑‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡πÑ‡∏´‡∏•‡πà‡∏Ç‡∏≠‡∏á‡∏¢‡∏±‡∏Å‡∏©‡πå<br>
      <span>We are standing on the shoulders of giants.<br>‚Äî ‡πÄ‡∏ã‡∏≠‡∏£‡πå ‡πÑ‡∏≠‡πÅ‡∏ã‡∏Å ‡∏ô‡∏¥‡∏ß‡∏ï‡∏±‡∏ô (Sir Isaac Newton)</span>
    </p>
  </div>
  <button id="giantBtn" style="position: fixed; bottom: 40px; right: 24px; padding: 14px 20px; font-size: 18px; background: linear-gradient(135deg, #232526, #414345); color: white; font-weight: bold; border: none; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.25); cursor: pointer; z-index: 9999; width: max-content; max-width: 90vw; text-align: left; line-height: 1.5;">
    üß† ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏ö‡∏ô‡πÑ‡∏´‡∏•‡πà‡∏Ç‡∏≠‡∏á‡∏ú‡∏°<br>
    <span style="font-size: 13px; font-weight: normal; opacity: 0.85;">
      Click here to stand on the shoulders of Piyawat
    </span>
  </button>
</div>
<script>
document.getElementById("giantBtn").addEventListener("click", function() {
  window.open("https://www.youtube.com/playlist?list=YOUR_PLAYLIST_ID", "_blank");
});
 
 
document.addEventListener('DOMContentLoaded', function() {
  // Ctrl+Click ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô toolsetterBox
var toolsetterBox = document.getElementById('toolsetterBox');
    toolsetterBox.addEventListener('click', function(event) {
      if (event.ctrlKey) {
        ahk.autotoolzero(event);
      } else {
        console.log("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î Ctrl+Click ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô");
        event.preventDefault();
      }
    });
  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô InvalidStateError
  function safeVideoPlay(vid) {
    try {
      if (vid && vid.src && vid.readyState > 0) {
        vid.currentTime = 0;
        vid.play();
        vid.style.visibility = 'visible';
      }
    } catch (e) {}
  }
  function safeVideoPause(vid) {
    try {
      if (vid && vid.readyState > 0) {
        vid.pause();
        vid.currentTime = 0;
        vid.style.visibility = 'hidden';
      }
    } catch (e) {}
  }

  // Hover preview ‡∏ó‡∏∏‡∏Å‡∏õ‡∏∏‡πà‡∏°
  var boxes = document.querySelectorAll('.videoBox');
  for (var i = 0; i < boxes.length; i++) {
    (function(box) {
      var hoverVid = box.querySelector('.hover-preview video');
      box.addEventListener('mouseenter', function(e) {
        this.classList.add('show-hover-preview');
        hoverVid = this.querySelector('.hover-preview video');
        safeVideoPlay(hoverVid);
      });
      box.addEventListener('mouseleave', function(e) {
        this.classList.remove('show-hover-preview');
        hoverVid = this.querySelector('.hover-preview video');
        safeVideoPause(hoverVid);
      });
      // Touch events
      var lastTap = 0;
      box.addEventListener('touchstart', function(e) {
        var now = new Date().getTime();
        if (now - lastTap < 400) {
          this.click();
          e.preventDefault();
        } else {
          this.classList.add('show-hover-preview');
          hoverVid = this.querySelector('.hover-preview video');
          safeVideoPlay(hoverVid);
        }
        lastTap = now;
      });
      box.addEventListener('touchend', function() {
        var that = this;
        setTimeout(function() {
          that.classList.remove('show-hover-preview');
          hoverVid = that.querySelector('.hover-preview video');
          safeVideoPause(hoverVid);
        }, 500);
      });
    })(boxes[i]);
  }

  // Overlay modal (window ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ)
  window.closeOverlay = function() {
    var overlay = document.getElementById('overlay');
    var video = document.getElementById('instructionVideo');
    if (video) video.pause();
    if (overlay) overlay.style.display = 'none';
  };
});

window.onload = function() {
  var bg = document.getElementById('bgVideo');
  setTimeout(function() { bg.classList.add('show'); }, 200);

  var title = document.querySelector('.page-title');
  setTimeout(function() { title.classList.add('show'); }, 1200);

  var boxes = document.querySelectorAll('.videoBox.fadein');
  for (var i = 0; i < boxes.length; i++) {
    (function(box, idx) {
      setTimeout(function() {
        box.classList.add('show');
      }, 1200 + idx * 350);
    })(boxes[i], i);
  }
};

window.onload = function() {
  var bg = document.getElementById('bgVideo');
  setTimeout(function() { bg.classList.add('show'); }, 200);

  var title = document.querySelector('.page-title');
  setTimeout(function() { title.classList.add('show'); }, 1200);

  var boxes = document.querySelectorAll('.videoBox.fadein');
  for (var i = 0; i < boxes.length; i++) {
    (function(box, idx) {
      setTimeout(function() {
        box.classList.add('show');
      }, 1200 + idx * 350);
    })(boxes[i], i);
  }
};


// Auto-scale fixedContainer as a "game canvas" (center, keep aspect ratio)
function updateScale() {
  const baseW = 1280, baseH = 1080;
  const scale = Math.min(window.innerWidth / baseW, window.innerHeight / baseH);
  const fixed = document.getElementById('fixedContainer');
  fixed.style.transform = `translate(-50%, -50%) scale(${scale})`;
}
window.addEventListener('resize', updateScale);
window.addEventListener('orientationchange', updateScale);
updateScale();
</script>
</body>
</html>
